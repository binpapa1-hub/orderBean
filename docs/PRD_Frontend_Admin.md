# PRD: OrderBean 프론트엔드 UI - 관리자 화면

## Document Info

- 작성자: OrderBean 개발팀
- 작성일: 2025-12-17
- 버전: 1.0
- 상태: Draft

---

## 1. 개요

본 문서는 OrderBean 서비스의 **관리자(Merchant) 화면** UI/UX 요구사항을 정의합니다. 관리자 화면은 매장 관리자가 주문을 확인하고, 재고를 관리하며, 주문 상태를 업데이트하는 기능을 담당합니다.

---

## 2. 화면 구성

### 2.1 전체 레이아웃

```
┌─────────────────────────────────────────────────────────┐
│  [로고: COZY]              [주문하기]  [관리자]         │  ← 헤더 (Navbar)
├─────────────────────────────────────────────────────────┤
│  ┌─────────────────────────────────────────────────┐   │
│  │  관리자 대시보드                                 │   │  ← 대시보드 섹션
│  │  총 주문 X / 주문 접수 X / 제조 중 X / 제조 완료 X │   │
│  └─────────────────────────────────────────────────┘   │
├─────────────────────────────────────────────────────────┤
│  ┌─────────────────────────────────────────────────┐   │
│  │  재고 현황                                       │   │  ← 재고 관리 섹션
│  │  [메뉴1] [메뉴2] [메뉴3] ...                     │   │
│  └─────────────────────────────────────────────────┘   │
├─────────────────────────────────────────────────────────┤
│  ┌─────────────────────────────────────────────────┐   │
│  │  주문 현황                                       │   │  ← 주문 목록 섹션
│  │  [주문1] [주문2] ...                             │   │
│  └─────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────┘
```

---

## 3. 관리자 대시보드 섹션

### 3.1 화면 목적
매장의 전체 주문 현황을 한눈에 파악할 수 있는 통계 요약 영역

### 3.2 대시보드 레이아웃

```
┌─────────────────────────────────────────────────────────────────┐
│  관리자 대시보드                                                 │
│                                                                 │
│  총 주문 1 / 주문 접수 1 / 제조 중 0 / 제조 완료 0              │
└─────────────────────────────────────────────────────────────────┘
```

### 3.3 대시보드 통계 항목

| 항목 | 설명 | 계산 방식 |
|------|------|-----------|
| 총 주문 | 전체 주문 수 | 모든 상태의 주문 합계 |
| 주문 접수 | 접수된 주문 수 | status = 'pending' 또는 'confirmed' |
| 제조 중 | 제조 중인 주문 수 | status = 'preparing' |
| 제조 완료 | 완료된 주문 수 | status = 'ready' 또는 'completed' |

### 3.4 스타일

| 요소 | 스펙 |
|------|------|
| 섹션 제목 | 16px, Bold, 밑줄 |
| 통계 텍스트 | 14px, Regular |
| 구분자 | "/" 문자로 구분 |
| 배경 | 흰색, 1px 회색 테두리 |
| 패딩 | 16px |

---

## 4. 재고 현황 섹션

### 4.1 화면 목적
각 메뉴의 재고 수량을 확인하고 조절할 수 있는 영역

### 4.2 재고 카드 레이아웃

```
┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐
│ 아메리카노 (ICE) │  │ 아메리카노 (HOT) │  │ 카페라떼        │
│                 │  │                 │  │                 │
│ 10개            │  │ 10개            │  │ 10개            │
│                 │  │                 │  │                 │
│ [+]  [-]        │  │ [+]  [-]        │  │ [+]  [-]        │
└─────────────────┘  └─────────────────┘  └─────────────────┘
```

### 4.3 재고 카드 상세 스펙

| 요소 | 스펙 |
|------|------|
| 카드 크기 | 가로 약 150px, 높이 자동 |
| 메뉴명 | 14px, Regular |
| 수량 | 14px, Regular, "X개" 형식 |
| +/- 버튼 | 24px × 24px, 테두리 스타일 |
| 카드 배경 | 흰색, 1px 회색 테두리 |
| 카드 패딩 | 12px |

### 4.4 재고 조절 버튼

| 버튼 | 동작 |
|------|------|
| + | 재고 수량 1 증가 |
| - | 재고 수량 1 감소 (최소 0) |

**동작 상세:**
1. 버튼 클릭
2. API 호출 (PATCH /api/admin/menus/{id})
3. 성공 시 화면 업데이트
4. 실패 시 에러 메시지 표시

---

## 5. 주문 현황 섹션

### 5.1 화면 목적
들어온 주문 목록을 확인하고 주문 상태를 업데이트할 수 있는 영역

### 5.2 주문 목록 레이아웃

```
┌─────────────────────────────────────────────────────────────────────┐
│  주문 현황                                                          │
│                                                                     │
│  7월 31일 13:00    아메리카노(ICE) x 1    4,000원    [주문 접수]    │
│                                                                     │
│  7월 31일 12:30    카페라떼 x 2          10,000원    [제조 중]      │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

### 5.3 주문 아이템 구성

| 요소 | 설명 | 스펙 |
|------|------|------|
| 주문 시간 | 주문 생성 시간 | "M월 D일 HH:mm" 형식 |
| 주문 내용 | 메뉴명 × 수량 | "메뉴명 x N" 형식 |
| 금액 | 주문 총 금액 | "X,XXX원" 형식 |
| 상태 버튼 | 현재 상태 표시 및 변경 | 버튼 형태 |

### 5.4 주문 상태 버튼

| 상태 | 버튼 텍스트 | 클릭 시 변경 |
|------|------------|-------------|
| pending | 주문 접수 | → confirmed |
| confirmed | 주문 확인 | → preparing |
| preparing | 제조 중 | → ready |
| ready | 제조 완료 | → completed |
| completed | 완료 | (비활성화) |
| cancelled | 취소됨 | (비활성화) |

### 5.5 상태 버튼 스타일

| 상태 | 배경색 | 텍스트 색상 |
|------|--------|------------|
| pending | 흰색 (테두리) | 검정 |
| confirmed | 연한 파랑 | 파랑 |
| preparing | 연한 주황 | 주황 |
| ready | 연한 초록 | 초록 |
| completed | 회색 | 흰색 |
| cancelled | 연한 빨강 | 빨강 |

### 5.6 상태 변경 플로우

```
┌─────────┐    ┌──────────┐    ┌───────────┐    ┌───────┐    ┌──────────┐
│ pending │ ─▶ │ confirmed│ ─▶ │ preparing │ ─▶ │ ready │ ─▶ │ completed│
│ (접수)  │    │ (확인)   │    │ (제조중)  │    │ (완료)│    │ (픽업완료)│
└─────────┘    └──────────┘    └───────────┘    └───────┘    └──────────┘
```

---

## 6. 사용자 플로우

### 6.1 관리자 주문 처리 플로우

```
┌─────────────┐     ┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│   주문      │     │   주문      │     │   음료      │     │   픽업      │
│   확인      │ ──▶ │   접수      │ ──▶ │   제조      │ ──▶ │   완료      │
│             │     │             │     │             │     │             │
└─────────────┘     └─────────────┘     └─────────────┘     └─────────────┘
```

### 6.2 상세 플로우

1. **주문 확인**
   - 관리자가 대시보드에 접속
   - 새로운 주문이 "주문 현황"에 표시됨
   - 대시보드 통계에 총 주문/주문 접수 수 업데이트

2. **주문 접수**
   - "주문 접수" 버튼 클릭
   - 상태가 "confirmed"로 변경
   - API 호출 (PATCH /api/admin/orders/{id}/status)

3. **음료 제조**
   - "제조 중" 버튼 클릭
   - 상태가 "preparing"으로 변경
   - 대시보드 "제조 중" 카운트 증가

4. **픽업 완료**
   - "제조 완료" 버튼 클릭
   - 상태가 "ready"로 변경
   - 고객에게 픽업 알림 (향후 기능)

---

## 7. 반응형 디자인

### 7.1 브레이크포인트

| 디바이스 | 너비 | 레이아웃 |
|----------|------|----------|
| 모바일 | < 640px | 1열, 세로 스택 |
| 태블릿 | 640px ~ 1024px | 2열 그리드 |
| 데스크톱 | > 1024px | 3열 그리드 |

### 7.2 모바일 최적화

- 재고 카드: 1열 또는 2열
- 주문 목록: 카드 형태로 변환
- 버튼: 터치 친화적 크기 (44px 이상)

---

## 8. 컴포넌트 명세

### 8.1 컴포넌트 구조

```
src/
├── components/
│   ├── admin/
│   │   ├── DashboardStats.jsx    # 대시보드 통계
│   │   ├── InventoryCard.jsx     # 재고 카드
│   │   ├── InventorySection.jsx  # 재고 섹션
│   │   ├── OrderItem.jsx         # 주문 아이템
│   │   ├── OrderSection.jsx      # 주문 섹션
│   │   └── StatusButton.jsx      # 상태 변경 버튼
├── pages/
│   └── AdminDashboard.jsx        # 관리자 대시보드 페이지
```

### 8.2 Props 정의

**DashboardStats.jsx**
```typescript
interface DashboardStatsProps {
  totalOrders: number;
  pendingOrders: number;
  preparingOrders: number;
  completedOrders: number;
}
```

**InventoryCard.jsx**
```typescript
interface InventoryCardProps {
  id: number;
  name: string;
  stock: number;
  onIncrement: (id: number) => void;
  onDecrement: (id: number) => void;
}
```

**OrderItem.jsx**
```typescript
interface OrderItemProps {
  id: number;
  orderTime: string;
  items: {
    menuName: string;
    quantity: number;
  }[];
  totalAmount: number;
  status: 'pending' | 'confirmed' | 'preparing' | 'ready' | 'completed' | 'cancelled';
  onStatusChange: (id: number, newStatus: string) => void;
}
```

**StatusButton.jsx**
```typescript
interface StatusButtonProps {
  status: string;
  onClick: () => void;
  disabled?: boolean;
}
```

---

## 9. 상태 관리

### 9.1 관리자 대시보드 상태

```javascript
const [dashboardState, setDashboardState] = useState({
  stats: {
    totalOrders: 0,
    pendingOrders: 0,
    preparingOrders: 0,
    completedOrders: 0
  },
  inventory: [],    // InventoryItem[]
  orders: []        // OrderItem[]
});
```

### 9.2 상태 동작

| 액션 | 설명 |
|------|------|
| FETCH_STATS | 통계 데이터 조회 |
| FETCH_INVENTORY | 재고 목록 조회 |
| UPDATE_STOCK | 재고 수량 변경 |
| FETCH_ORDERS | 주문 목록 조회 |
| UPDATE_ORDER_STATUS | 주문 상태 변경 |

---

## 10. API 연동

### 10.1 통계 조회

```
GET /api/admin/stats

Response:
{
  "total_orders": 1,
  "pending_orders": 1,
  "preparing_orders": 0,
  "completed_orders": 0,
  "total_revenue": 4000
}
```

### 10.2 재고 조회

```
GET /api/admin/menus

Response:
[
  {
    "id": 1,
    "name": "아메리카노 (ICE)",
    "stock": 10,
    "is_available": true
  }
]
```

### 10.3 재고 수정

```
PATCH /api/admin/menus/{id}

Request:
{
  "stock": 11
}

Response:
{
  "id": 1,
  "name": "아메리카노 (ICE)",
  "stock": 11
}
```

### 10.4 주문 목록 조회

```
GET /api/admin/orders

Response:
[
  {
    "id": 1,
    "created_at": "2025-07-31T13:00:00Z",
    "items": [
      {
        "menu": { "name": "아메리카노(ICE)" },
        "quantity": 1
      }
    ],
    "total_amount": 4000,
    "status": "pending"
  }
]
```

### 10.5 주문 상태 변경

```
PATCH /api/admin/orders/{id}/status

Request:
{
  "status": "confirmed"
}

Response:
{
  "id": 1,
  "status": "confirmed",
  "updated_at": "2025-07-31T13:05:00Z"
}
```

---

## 11. 스타일 가이드

### 11.1 색상

| 용도 | 색상 코드 |
|------|-----------|
| 배경 | #FFFFFF (흰색) |
| 섹션 배경 | #FFFFFF |
| 테두리 | #E5E7EB (연회색) |
| 텍스트 (기본) | #1F2937 (진회색) |
| 텍스트 (보조) | #6B7280 (회색) |
| 상태: pending | #F3F4F6 배경, #374151 텍스트 |
| 상태: preparing | #FEF3C7 배경, #D97706 텍스트 |
| 상태: ready | #D1FAE5 배경, #059669 텍스트 |
| 상태: completed | #9CA3AF 배경, #FFFFFF 텍스트 |

### 11.2 타이포그래피

| 요소 | 크기 | 굵기 |
|------|------|------|
| 섹션 제목 | 16px | Bold, 밑줄 |
| 통계 텍스트 | 14px | Regular |
| 메뉴명 | 14px | Regular |
| 수량/가격 | 14px | Regular |
| 버튼 텍스트 | 12px | Medium |

### 11.3 간격

| 요소 | 간격 |
|------|------|
| 섹션 패딩 | 16px |
| 섹션 간 간격 | 16px |
| 카드 패딩 | 12px |
| 카드 간 간격 | 12px |
| 버튼 패딩 | 8px 16px |

---

## 12. 접근성 (Accessibility)

### 12.1 요구사항

- 버튼에 aria-label 제공
- 상태 변화 시 스크린 리더 알림
- 키보드 네비게이션 지원
- 색상 외 텍스트로 상태 구분

### 12.2 구현 예시

```jsx
<button 
  aria-label="주문 #1 상태를 제조 중으로 변경"
  className="focus:ring-2 focus:ring-orange-500"
>
  주문 접수
</button>
```

---

## 13. 테스트 케이스

### 13.1 기능 테스트

| 테스트 ID | 설명 | 예상 결과 |
|-----------|------|-----------|
| TC-A-001 | 대시보드 통계 조회 | 총 주문, 접수, 제조 중, 완료 수 표시 |
| TC-A-002 | 재고 목록 조회 | 메뉴별 재고 카드 표시 |
| TC-A-003 | 재고 증가 | + 버튼 클릭 시 수량 1 증가 |
| TC-A-004 | 재고 감소 | - 버튼 클릭 시 수량 1 감소 |
| TC-A-005 | 주문 목록 조회 | 주문 시간순 목록 표시 |
| TC-A-006 | 주문 상태 변경 | 버튼 클릭 시 상태 변경 |
| TC-A-007 | 통계 업데이트 | 상태 변경 시 대시보드 통계 업데이트 |

### 13.2 반응형 테스트

| 테스트 ID | 디바이스 | 예상 결과 |
|-----------|----------|-----------|
| TC-AR-001 | 모바일 (375px) | 1열 레이아웃, 스크롤 가능 |
| TC-AR-002 | 태블릿 (768px) | 2열 그리드 |
| TC-AR-003 | 데스크톱 (1280px) | 3열 그리드 |

---

## 14. 변경 이력

| 버전 | 날짜 | 변경 내용 | 작성자 |
|------|------|-----------|--------|
| 1.0 | 2025-12-17 | 초안 작성 (와이어프레임 기반) | 개발팀 |

---

**문서 끝**

