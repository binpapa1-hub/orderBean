# 커피 주문하기 화면 TDD 구현 보고서

## 작업 요약

| 항목 | 내용 |
|------|------|
| 작업일 | 2025-12-17 |
| 작업자 | 개발팀 |
| 방법론 | TDD (Test-Driven Development) |
| 산출물 | `src/pages/CustomerMenu.jsx`, `src/tests/pages/CustomerMenu.test.jsx` |

---

## TDD 단계별 진행

### 1단계: RED - 실패하는 테스트 작성

**파일**: `frontend/src/tests/pages/CustomerMenu.test.jsx`

총 18개의 테스트 케이스 작성:

#### 1.1 헤더 (Navbar) 테스트 (3개)
| 테스트 | 설명 |
|--------|------|
| 로고 "COZY" 표시 | 헤더에 COZY 로고가 표시되어야 함 |
| 주문하기 버튼 표시 | 헤더에 주문하기 버튼이 있어야 함 |
| 관리자 버튼 표시 | 헤더에 관리자 버튼이 있어야 함 |

#### 1.2 메뉴 카드 테스트 (6개)
| 테스트 | 설명 |
|--------|------|
| 메뉴 카드 3개 표시 | 3개의 메뉴 카드가 그리드로 표시 |
| 아메리카노(ICE) 표시 | 메뉴명과 가격 표시 |
| 아메리카노(HOT) 표시 | 메뉴명 표시 |
| 카페라떼 표시 | 메뉴명 표시 |
| 담기 버튼 존재 | 각 메뉴에 담기 버튼 |
| 이미지 placeholder | 이미지 placeholder 표시 |

#### 1.3 메뉴 옵션 테스트 (3개)
| 테스트 | 설명 |
|--------|------|
| 샷 추가 옵션 | 샷 추가 체크박스 존재 |
| 시럽 추가 옵션 | 시럽 추가 체크박스 존재 |
| 체크박스 선택 | 체크박스 클릭 시 선택됨 |

#### 1.4 장바구니 테스트 (4개)
| 테스트 | 설명 |
|--------|------|
| 아이템 추가 | 담기 클릭 시 장바구니 섹션 표시 |
| 수량 표시 | 장바구니에 수량 표시 |
| 총 금액 표시 | 총 금액 표시 |
| 주문하기 버튼 | 장바구니에 주문하기 버튼 |

#### 1.5 옵션 포함 장바구니 테스트 (2개)
| 테스트 | 설명 |
|--------|------|
| 옵션 표시 | 선택한 옵션이 장바구니에 표시 |
| 옵션 가격 반영 | 옵션 가격이 총 금액에 반영 |

---

### 2단계: GREEN - 최소한의 코드로 통과

**파일**: `frontend/src/pages/CustomerMenu.jsx`

구현된 기능:

1. **헤더 컴포넌트**
   - COZY 로고
   - 주문하기 버튼 (navigate to /orders)
   - 관리자 버튼 (navigate to /admin)

2. **메뉴 카드 컴포넌트**
   - 이미지 placeholder (X 아이콘)
   - 메뉴명, 가격, 설명
   - 옵션 체크박스 (샷 추가, 시럽 추가)
   - 담기 버튼

3. **장바구니 섹션**
   - 아이템 목록 (메뉴명, 옵션, 수량, 가격)
   - 총 금액 계산
   - 주문하기 버튼

4. **상태 관리**
   - `cart`: 장바구니 아이템 배열
   - `selectedOptions`: 메뉴별 선택된 옵션

---

### 3단계: REFACTOR - 코드 개선

개선 사항:

1. **코드 구조화**
   - 옵션 변경 핸들러 분리
   - 장바구니 추가 로직 개선 (동일 메뉴+옵션 수량 증가)
   - 총 금액 계산 함수화

2. **스타일 개선**
   - 그레이 톤 색상 적용 (와이어프레임 기반)
   - hover 효과 추가
   - transition 애니메이션 적용
   - SVG 아이콘 사용 (placeholder)

3. **접근성**
   - `role="banner"` 추가
   - `data-testid` 속성 유지
   - cursor-pointer 클래스 적용

---

## 테스트 결과

```
 ✓ src/tests/pages/CustomerMenu.test.jsx (18 tests) 814ms

 Test Files  1 passed (1)
      Tests  18 passed (18)
```

**테스트 커버리지**: 18/18 (100%)

---

## 구현된 화면 구조

```
┌─────────────────────────────────────────────────────────┐
│  [COZY]                          [주문하기]  [관리자]   │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌─────────┐    ┌─────────┐    ┌─────────┐             │
│  │   ✕     │    │   ✕     │    │   ✕     │             │
│  │ 아메리  │    │ 아메리  │    │ 카페    │             │
│  │ 카노ICE │    │ 카노HOT │    │ 라떼    │             │
│  │ 4,000원 │    │ 4,000원 │    │ 5,000원 │             │
│  │ □샷추가 │    │ □샷추가 │    │ □샷추가 │             │
│  │ □시럽   │    │ □시럽   │    │ □시럽   │             │
│  │ [담기]  │    │ [담기]  │    │ [담기]  │             │
│  └─────────┘    └─────────┘    └─────────┘             │
│                                                         │
├─────────────────────────────────────────────────────────┤
│  장바구니                                               │
│  아메리카노(ICE) (샷 추가) X 1         4,500원         │
│                          총 금액 4,500원 [주문하기]    │
└─────────────────────────────────────────────────────────┘
```

---

## 커피 메뉴 데이터 (Mock)

| ID | 메뉴명 | 가격 | 옵션 |
|----|--------|------|------|
| 1 | 아메리카노(ICE) | 4,000원 | 샷 추가(+500원), 시럽 추가(+0원) |
| 2 | 아메리카노(HOT) | 4,000원 | 샷 추가(+500원), 시럽 추가(+0원) |
| 3 | 카페라떼 | 5,000원 | 샷 추가(+500원), 시럽 추가(+0원) |

---

## 색상 가이드 (적용됨)

| 요소 | 색상 |
|------|------|
| 배경 | white |
| 테두리 | gray-200, gray-300 |
| 텍스트 (제목) | gray-900 |
| 텍스트 (보조) | gray-500, gray-600 |
| 버튼 | border gray-400, text gray-700 |
| hover | gray-50 |

---

## 파일 목록

| 파일 | 설명 |
|------|------|
| `frontend/src/pages/CustomerMenu.jsx` | 사용자 메뉴 화면 컴포넌트 |
| `frontend/src/tests/pages/CustomerMenu.test.jsx` | 테스트 파일 (18개 테스트) |

---

## 다음 단계

1. App.jsx에 CustomerMenu 라우트 추가
2. 실제 API 연동 (GET /api/menus)
3. 주문 생성 API 연동 (POST /api/orders)
4. 반응형 디자인 추가 테스트

---

**보고서 작성 완료**

